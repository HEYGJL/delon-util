/**
 * @license ng-alain(cipchk@qq.com) v11.6.0
 * (c) 2020 cipchk https://ng-alain.com/
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("extend"),require("@angular/core"),require("ng-zorro-antd/core/environments"),require("@angular/common"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@delon/util/other",["exports","extend","@angular/core","ng-zorro-antd/core/environments","@angular/common","rxjs","rxjs/operators"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).delon=e.delon||{},e.delon.util=e.delon.util||{},e.delon.util.other={}),e.extend,e.ng.core,e.environments,e.ng.common,e.rxjs,e.rxjs.operators)}(this,(function(e,t,r,n,o,i,a){"use strict";function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var l=u(t),s=c(r),f=c(o);Object.create;function d(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}Object.create;function y(e){return l.default(!0,{},{_:e})._}function h(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(Array.isArray(e)||"object"!=typeof e)return e;var o=function(e){return"object"==typeof e||"function"==typeof e},i=function(e,r){return Object.keys(r).filter((function(e){return"__proto__"!==e&&Object.prototype.hasOwnProperty.call(r,e)})).forEach((function(n){var a=r[n],u=e[n];Array.isArray(u)?e[n]=t?a:p(u,a):null!=a&&o(a)&&null!=u&&o(u)?e[n]=i(u,a):e[n]=y(a)})),e};return r.filter((function(e){return null!=e&&o(e)})).forEach((function(t){return i(e,t)})),e}var v={},g="[@DELON]:";function b(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.reduce((function(e,t){return e+t.toString()}),"");return!v[r]&&(v[r]=!0,!0)}function m(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];(n.environment.isTestMode||r.isDevMode()&&b.apply(void 0,p(t)))&&e.apply(void 0,p(t))}var j=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(n.environment.isTestMode)return function(){};var r=(new Error).stack;return m.apply(void 0,p([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.warn.apply(console,p([g,"deprecated:"],e,[r]))}],e))},O=function(){function e(e){this.doc=e,this.list={},this.cached={},this._notify=new i.BehaviorSubject([])}return Object.defineProperty(e.prototype,"change",{get:function(){return this._notify.asObservable().pipe(a.share(),a.filter((function(e){return 0!==e.length})))},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this.list={},this.cached={}},e.prototype.load=function(e){var t=this;Array.isArray(e)||(e=[e]);var r=[];return e.forEach((function(e){e.endsWith(".js")?r.push(t.loadScript(e)):r.push(t.loadStyle(e))})),Promise.all(r).then((function(e){return t._notify.next(e),Promise.resolve(e)}))},e.prototype.loadScript=function(e,t){var r=this;return new Promise((function(n){if(!0!==r.list[e]){r.list[e]=!0;var o=function(t){r.cached[e]=t,n(t),r._notify.next([t])},i=r.doc.createElement("script");i.type="text/javascript",i.src=e,i.charset="utf-8",t&&(i.innerHTML=t),i.readyState?i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onreadystatechange=null,o({path:e,status:"ok"}))}:i.onload=function(){return o({path:e,status:"ok"})},i.onerror=function(t){return o({path:e,status:"error",error:t})},r.doc.getElementsByTagName("head")[0].appendChild(i)}else n(Object.assign(Object.assign({},r.cached[e]),{status:"loading"}))}))},e.prototype.loadStyle=function(e,t,r){var n=this;return void 0===t&&(t="stylesheet"),new Promise((function(o){if(!0!==n.list[e]){n.list[e]=!0;var i=n.doc.createElement("link");i.rel=t,i.type="text/css",i.href=e,r&&(i.innerHTML=r),n.doc.getElementsByTagName("head")[0].appendChild(i);var a={path:e,status:"ok"};n.cached[e]=a,o(a)}else o(n.cached[e])}))},e}();function x(e,t,n,o){if(r.isDevMode())throw new Error("ASSERTION ERROR: "+e+(null==o?"":" [Expected=> "+n+" "+o+" "+t+" <=Actual]"))}O.ɵprov=s.ɵɵdefineInjectable({factory:function(){return new O(s.ɵɵinject(f.DOCUMENT))},token:O,providedIn:"root"}),O.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],O.ctorParameters=function(){return[{type:void 0,decorators:[{type:r.Inject,args:[o.DOCUMENT]}]}]},e.LazyService=O,e.PREFIX=g,e.assert=function(e,t){e||x(t)},e.assertArray=function(e,t){Array.isArray(e)||x(t,null===e?"null":typeof e,"array","===")},e.assertEmpty=function(e,t){null==e&&x(t,typeof e,"NULL","==")},e.assertNumber=function(e,t){"number"!=typeof e&&x(t,typeof e,"number","===")},e.assertObservable=function(e,t){i.isObservable(e)||x(t,null===e?"null":typeof e,"Observable","===")},e.assertString=function(e,t){"string"!=typeof e&&x(t,null===e?"null":typeof e,"string","===")},e.deepCopy=y,e.deepGet=function(e,t,r){if(!e||null==t||0===t.length)return r;if(Array.isArray(t)||(t=~t.indexOf(".")?t.split("."):[t]),1===t.length){var n=e[t[0]];return void 0===n?r:n}var o=t.reduce((function(e,t){return(e||{})[t]}),e);return void 0===o?r:o},e.deepMerge=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return h.apply(void 0,p([e,!1],t))},e.deepMergeKey=h,e.deprecation11=function(e,t,r){j(e+" => '"+t+"' is going to be removed in 11.0.0"+(r?", Please use '"+r+"' instead":"")+".")},e.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r.isDevMode()&&console.log.apply(console,p([g],e))},e.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return m.apply(void 0,p([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.warn.apply(console,p([g],e))}],e))},e.warnDeprecation=j,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=delon-util-other.umd.min.js.map