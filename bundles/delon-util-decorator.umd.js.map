{"version":3,"file":"delon-util-decorator.umd.js","sources":["../../../../packages/util/decorator/factory.ts","../../../../packages/util/decorator/boolean-property.ts","../../../../packages/util/decorator/number-property.ts","../../../../packages/util/decorator/delon-util-decorator.ts"],"sourcesContent":["import { warn } from '@delon/util/other';\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\n\nexport function propDecoratorFactory<T, D>(\n  name: string,\n  fallback: (v: T, defaultValue: D) => D,\n  defaultValue: NzSafeAny,\n): (target: NzSafeAny, propName: string) => void {\n  function propDecorator(target: NzSafeAny, propName: string, originalDescriptor?: TypedPropertyDescriptor<NzSafeAny>): NzSafeAny {\n    const privatePropName = `$$__${propName}`;\n\n    if (Object.prototype.hasOwnProperty.call(target, privatePropName)) {\n      warn(`The prop \"${privatePropName}\" is already exist, it will be overrided by ${name} decorator.`);\n    }\n\n    Object.defineProperty(target, privatePropName, {\n      configurable: true,\n      writable: true,\n    });\n\n    return {\n      get(): string {\n        return originalDescriptor && originalDescriptor.get ? originalDescriptor.get.bind(this)() : this[privatePropName];\n      },\n      set(value: T): void {\n        if (originalDescriptor && originalDescriptor.set) {\n          originalDescriptor.set.bind(this)(fallback(value, defaultValue));\n        }\n        this[privatePropName] = fallback(value, defaultValue);\n      },\n    };\n  }\n\n  return propDecorator;\n}\n","import { propDecoratorFactory } from './factory';\n\nexport type BooleanInput = boolean | string | undefined | null;\n\nexport function toBoolean(value: any, allowUndefined: boolean | null = false): boolean | undefined {\n  return allowUndefined && typeof value === 'undefined' ? undefined : value != null && `${value}` !== 'false';\n}\n\n/**\n * Input decorator that handle a prop to do get/set automatically with toBoolean\n *\n * ```ts\n * @Input() InputBoolean() visible: boolean = false;\n * @Input() @InputBoolean(null) visible: boolean = false;\n * ```\n */\nexport function InputBoolean(defaultValue: boolean | null = false): any {\n  return propDecoratorFactory('InputNumber', toBoolean, defaultValue);\n}\n","import { propDecoratorFactory } from './factory';\n\nexport type NumberInput = number | string | undefined | null;\n\nexport function toNumber(value: any): number;\nexport function toNumber<D>(value: any, fallback: D): number | D;\nexport function toNumber(value: any, fallbackValue: number = 0): number {\n  return !isNaN(parseFloat(value as any)) && !isNaN(Number(value)) ? Number(value) : fallbackValue;\n}\n\n/**\n * Input decorator that handle a prop to do get/set automatically with toNumber\n *\n * ```ts\n * @Input() @InputNumber() visible: number = 1;\n * @Input() @InputNumber(null) visible: number = 2;\n * ```\n */\nexport function InputNumber(defaultValue: number | null = 0): any {\n  return propDecoratorFactory('InputNumber', toNumber, defaultValue);\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["warn"],"mappings":";;;;;;aAGgB,oBAAoB,CAClC,IAAY,EACZ,QAAsC,EACtC,YAAuB,EAAA;IAEvB,IAAA,SAAS,aAAa,CAAC,MAAiB,EAAE,QAAgB,EAAE,kBAAuD,EAAA;IACjH,QAAA,IAAM,eAAe,GAAG,MAAO,GAAA,QAAU,CAAC;IAE1C,QAAA,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,eAAe,CAAC,EAAE;IACjE,YAAAA,UAAI,CAAC,aAAa,GAAA,eAAe,qDAA+C,IAAI,GAAA,aAAa,CAAC,CAAC;IACpG,SAAA;IAED,QAAA,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,eAAe,EAAE;IAC7C,YAAA,YAAY,EAAE,IAAI;IAClB,YAAA,QAAQ,EAAE,IAAI;IACf,SAAA,CAAC,CAAC;YAEH,OAAO;gBACL,GAAG,EAAA,YAAA;oBACD,OAAO,kBAAkB,IAAI,kBAAkB,CAAC,GAAG,GAAG,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC;iBACnH;IACD,YAAA,GAAG,YAAC,KAAQ,EAAA;IACV,gBAAA,IAAI,kBAAkB,IAAI,kBAAkB,CAAC,GAAG,EAAE;IAChD,oBAAA,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,KAAK,EAAE,YAAY,CAAC,CAAC,CAAC;IAClE,iBAAA;oBACD,IAAI,CAAC,eAAe,CAAC,GAAG,QAAQ,CAAC,KAAK,EAAE,YAAY,CAAC,CAAC;iBACvD;aACF,CAAC;SACH;IAED,IAAA,OAAO,aAAa,CAAC;IACvB;;IC9BgB,SAAA,SAAS,CAAC,KAAU,EAAE,cAAsC,EAAA;IAAtC,IAAA,IAAA,cAAA,KAAA,KAAA,CAAA,EAAA,EAAA,cAAsC,GAAA,KAAA,CAAA,EAAA;QAC1E,OAAO,cAAc,IAAI,OAAO,KAAK,KAAK,WAAW,GAAG,SAAS,GAAG,KAAK,IAAI,IAAI,IAAI,EAAG,GAAA,KAAO,KAAK,OAAO,CAAC;IAC9G,CAAC;IAED;;;;;;;IAOG;IACG,SAAU,YAAY,CAAC,YAAoC,EAAA;IAApC,IAAA,IAAA,YAAA,KAAA,KAAA,CAAA,EAAA,EAAA,YAAoC,GAAA,KAAA,CAAA,EAAA;QAC/D,OAAO,oBAAoB,CAAC,aAAa,EAAE,SAAS,EAAE,YAAY,CAAC,CAAC;IACtE;;ICZgB,SAAA,QAAQ,CAAC,KAAU,EAAE,aAAyB,EAAA;IAAzB,IAAA,IAAA,aAAA,KAAA,KAAA,CAAA,EAAA,EAAA,aAAyB,GAAA,CAAA,CAAA,EAAA;IAC5D,IAAA,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,KAAY,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,aAAa,CAAC;IACnG,CAAC;IAED;;;;;;;IAOG;IACG,SAAU,WAAW,CAAC,YAA+B,EAAA;IAA/B,IAAA,IAAA,YAAA,KAAA,KAAA,CAAA,EAAA,EAAA,YAA+B,GAAA,CAAA,CAAA,EAAA;QACzD,OAAO,oBAAoB,CAAC,aAAa,EAAE,QAAQ,EAAE,YAAY,CAAC,CAAC;IACrE;;ICpBA;;IAEG;;;;;;;;;;;;;;"}